[
  {
    "type": "_action_type",
    "named": true,
    "subtypes": [
      {
        "type": "action_add_flag",
        "named": true
      },
      {
        "type": "action_add_seq",
        "named": true
      },
      {
        "type": "action_add_wedge",
        "named": true
      },
      {
        "type": "action_advance_flag",
        "named": true
      },
      {
        "type": "action_award_points",
        "named": true
      },
      {
        "type": "action_deny_read",
        "named": true
      },
      {
        "type": "action_despawn_item",
        "named": true
      },
      {
        "type": "action_despawn_npc",
        "named": true
      },
      {
        "type": "action_give_to_player",
        "named": true
      },
      {
        "type": "action_lock_exit",
        "named": true
      },
      {
        "type": "action_lock_item",
        "named": true
      },
      {
        "type": "action_modify_item",
        "named": true
      },
      {
        "type": "action_modify_room",
        "named": true
      },
      {
        "type": "action_npc_random_dialogue",
        "named": true
      },
      {
        "type": "action_npc_refuse_item",
        "named": true
      },
      {
        "type": "action_npc_says",
        "named": true
      },
      {
        "type": "action_push_player",
        "named": true
      },
      {
        "type": "action_remove_flag",
        "named": true
      },
      {
        "type": "action_replace_drop_item",
        "named": true
      },
      {
        "type": "action_replace_item",
        "named": true
      },
      {
        "type": "action_reset_flag",
        "named": true
      },
      {
        "type": "action_restrict_item",
        "named": true
      },
      {
        "type": "action_reveal_exit",
        "named": true
      },
      {
        "type": "action_schedule_in_if",
        "named": true
      },
      {
        "type": "action_schedule_in_or_on",
        "named": true
      },
      {
        "type": "action_set_barred_msg",
        "named": true
      },
      {
        "type": "action_set_container_state",
        "named": true
      },
      {
        "type": "action_set_item_desc",
        "named": true
      },
      {
        "type": "action_set_npc_active",
        "named": true
      },
      {
        "type": "action_set_npc_state",
        "named": true
      },
      {
        "type": "action_show",
        "named": true
      },
      {
        "type": "action_spawn_container",
        "named": true
      },
      {
        "type": "action_spawn_current_room",
        "named": true
      },
      {
        "type": "action_spawn_inventory",
        "named": true
      },
      {
        "type": "action_spawn_npc_into_room",
        "named": true
      },
      {
        "type": "action_spawn_room",
        "named": true
      },
      {
        "type": "action_spinner_msg",
        "named": true
      },
      {
        "type": "action_unlock_exit",
        "named": true
      },
      {
        "type": "action_unlock_item",
        "named": true
      }
    ]
  },
  {
    "type": "_flag_ref",
    "named": true,
    "subtypes": [
      {
        "type": "flag_name",
        "named": true
      }
    ]
  },
  {
    "type": "_goal_cond",
    "named": true,
    "subtypes": [
      {
        "type": "gc_flag_complete",
        "named": true
      },
      {
        "type": "gc_flag_progress",
        "named": true
      },
      {
        "type": "gc_goal_complete",
        "named": true
      },
      {
        "type": "gc_has_flag",
        "named": true
      },
      {
        "type": "gc_has_item",
        "named": true
      },
      {
        "type": "gc_missing_flag",
        "named": true
      },
      {
        "type": "gc_reached_room",
        "named": true
      }
    ]
  },
  {
    "type": "_goal_ref",
    "named": true,
    "subtypes": [
      {
        "type": "goal_id",
        "named": true
      }
    ]
  },
  {
    "type": "_goal_stmt",
    "named": true,
    "subtypes": [
      {
        "type": "goal_desc_stmt",
        "named": true
      },
      {
        "type": "goal_done_stmt",
        "named": true
      },
      {
        "type": "goal_fail_stmt",
        "named": true
      },
      {
        "type": "goal_group_stmt",
        "named": true
      },
      {
        "type": "goal_name_stmt",
        "named": true
      },
      {
        "type": "goal_start_stmt",
        "named": true
      }
    ]
  },
  {
    "type": "_item_ref",
    "named": true,
    "subtypes": [
      {
        "type": "item_id",
        "named": true
      }
    ]
  },
  {
    "type": "_item_stmt",
    "named": true,
    "subtypes": [
      {
        "type": "item_ability_stmt",
        "named": true
      },
      {
        "type": "item_consumable_stmt",
        "named": true
      },
      {
        "type": "item_container_stmt",
        "named": true
      },
      {
        "type": "item_desc_stmt",
        "named": true
      },
      {
        "type": "item_loc_stmt",
        "named": true
      },
      {
        "type": "item_name_stmt",
        "named": true
      },
      {
        "type": "item_portable_stmt",
        "named": true
      },
      {
        "type": "item_requires_stmt",
        "named": true
      },
      {
        "type": "item_restricted_stmt",
        "named": true
      },
      {
        "type": "item_text_stmt",
        "named": true
      }
    ]
  },
  {
    "type": "_npc_ref",
    "named": true,
    "subtypes": [
      {
        "type": "npc_id",
        "named": true
      }
    ]
  },
  {
    "type": "_npc_stmt",
    "named": true,
    "subtypes": [
      {
        "type": "npc_desc_stmt",
        "named": true
      },
      {
        "type": "npc_dialogue_block",
        "named": true
      },
      {
        "type": "npc_loc_stmt",
        "named": true
      },
      {
        "type": "npc_movement_stmt",
        "named": true
      },
      {
        "type": "npc_name_stmt",
        "named": true
      },
      {
        "type": "npc_state_stmt",
        "named": true
      }
    ]
  },
  {
    "type": "_room_ref",
    "named": true,
    "subtypes": [
      {
        "type": "room_id",
        "named": true
      }
    ]
  },
  {
    "type": "_room_stmt",
    "named": true,
    "subtypes": [
      {
        "type": "overlay_stmt",
        "named": true
      },
      {
        "type": "ovl_flag_binary",
        "named": true
      },
      {
        "type": "ovl_npc_state_set",
        "named": true
      },
      {
        "type": "ovl_presence_pair",
        "named": true
      },
      {
        "type": "room_desc",
        "named": true
      },
      {
        "type": "room_exit",
        "named": true
      },
      {
        "type": "room_name",
        "named": true
      },
      {
        "type": "room_visited",
        "named": true
      }
    ]
  },
  {
    "type": "_spinner_ref",
    "named": true,
    "subtypes": [
      {
        "type": "spinner_id",
        "named": true
      }
    ]
  },
  {
    "type": "_trigger_cond_atom",
    "named": true,
    "subtypes": [
      {
        "type": "cond_all_group",
        "named": true
      },
      {
        "type": "cond_ambient",
        "named": true
      },
      {
        "type": "cond_any_group",
        "named": true
      },
      {
        "type": "cond_chance",
        "named": true
      },
      {
        "type": "cond_container_has_item",
        "named": true
      },
      {
        "type": "cond_flag_complete",
        "named": true
      },
      {
        "type": "cond_flag_in_progress",
        "named": true
      },
      {
        "type": "cond_has_flag",
        "named": true
      },
      {
        "type": "cond_has_item",
        "named": true
      },
      {
        "type": "cond_in_rooms",
        "named": true
      },
      {
        "type": "cond_missing_flag",
        "named": true
      },
      {
        "type": "cond_missing_item",
        "named": true
      },
      {
        "type": "cond_npc_has_item",
        "named": true
      },
      {
        "type": "cond_npc_in_state",
        "named": true
      },
      {
        "type": "cond_player_in_room",
        "named": true
      },
      {
        "type": "cond_visited_room",
        "named": true
      },
      {
        "type": "cond_with_npc",
        "named": true
      }
    ]
  },
  {
    "type": "_trigger_stmt",
    "named": true,
    "subtypes": [
      {
        "type": "cond_block",
        "named": true
      },
      {
        "type": "do_action",
        "named": true
      }
    ]
  },
  {
    "type": "_when_event",
    "named": true,
    "subtypes": [
      {
        "type": "act_on_item",
        "named": true
      },
      {
        "type": "always_event",
        "named": true
      },
      {
        "type": "drop_item",
        "named": true
      },
      {
        "type": "enter_room",
        "named": true
      },
      {
        "type": "give_to_npc",
        "named": true
      },
      {
        "type": "ingest_item",
        "named": true
      },
      {
        "type": "insert_item_into",
        "named": true
      },
      {
        "type": "leave_room",
        "named": true
      },
      {
        "type": "look_at_item",
        "named": true
      },
      {
        "type": "open_item",
        "named": true
      },
      {
        "type": "take_from_npc",
        "named": true
      },
      {
        "type": "take_item",
        "named": true
      },
      {
        "type": "talk_to_npc",
        "named": true
      },
      {
        "type": "touch_item",
        "named": true
      },
      {
        "type": "unlock_item",
        "named": true
      },
      {
        "type": "use_item",
        "named": true
      },
      {
        "type": "use_item_on_item",
        "named": true
      }
    ]
  },
  {
    "type": "ability_target",
    "named": true,
    "fields": {
      "item": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "act_on_item",
    "named": true,
    "fields": {
      "action": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "item_interaction",
            "named": true
          }
        ]
      },
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_add_flag",
    "named": true,
    "fields": {
      "flag": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "flag_name",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_add_seq",
    "named": true,
    "fields": {
      "flag_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "flag_name",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "number",
          "named": true
        }
      ]
    }
  },
  {
    "type": "action_add_wedge",
    "named": true,
    "fields": {
      "spinner": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_spinner_ref",
            "named": true
          }
        ]
      },
      "text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "wedge_text",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "number",
          "named": true
        }
      ]
    }
  },
  {
    "type": "action_advance_flag",
    "named": true,
    "fields": {
      "flag": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_award_points",
    "named": true,
    "fields": {
      "points": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "number",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_deny_read",
    "named": true,
    "fields": {
      "reason": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "player_message",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_despawn_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_despawn_npc",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_give_to_player",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      },
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_lock_exit",
    "named": true,
    "fields": {
      "direction": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "exit_dir",
            "named": true
          }
        ]
      },
      "room_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_lock_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_modify_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "item_patch_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "action_modify_room",
    "named": true,
    "fields": {
      "room_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "room_patch_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "action_npc_random_dialogue",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_npc_refuse_item",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      },
      "reason": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "player_message",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_npc_says",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      },
      "text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "quote",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_push_player",
    "named": true,
    "fields": {
      "room_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_remove_flag",
    "named": true,
    "fields": {
      "flag": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_replace_drop_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": true,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_replace_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": true,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_reset_flag",
    "named": true,
    "fields": {
      "flag": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_restrict_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_reveal_exit",
    "named": true,
    "fields": {
      "direction": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "exit_dir",
            "named": true
          }
        ]
      },
      "from_room": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      },
      "to_room": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_schedule_in_if",
    "named": true,
    "fields": {
      "turns": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "number",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "retry_type",
          "named": true
        },
        {
          "type": "schedule_note",
          "named": true
        },
        {
          "type": "trigger_block",
          "named": true
        },
        {
          "type": "trigger_cond",
          "named": true
        }
      ]
    }
  },
  {
    "type": "action_schedule_in_or_on",
    "named": true,
    "fields": {
      "turns": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "number",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "schedule_note",
          "named": true
        },
        {
          "type": "trigger_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "action_set_barred_msg",
    "named": true,
    "fields": {
      "msg": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "player_message",
            "named": true
          }
        ]
      },
      "room_id": {
        "multiple": true,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_set_container_state",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "container_state",
          "named": true
        }
      ]
    }
  },
  {
    "type": "action_set_item_desc",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      },
      "text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_desc",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_set_npc_active",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "boolean",
          "named": true
        }
      ]
    }
  },
  {
    "type": "action_set_npc_state",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      },
      "state": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "custom_state",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_show",
    "named": true,
    "fields": {
      "text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "player_message",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_spawn_container",
    "named": true,
    "fields": {
      "container_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "spawn_action_stem",
          "named": true
        }
      ]
    }
  },
  {
    "type": "action_spawn_current_room",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "spawn_action_stem",
          "named": true
        }
      ]
    }
  },
  {
    "type": "action_spawn_inventory",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "spawn_action_stem",
          "named": true
        }
      ]
    }
  },
  {
    "type": "action_spawn_npc_into_room",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      },
      "room_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_spawn_room",
    "named": true,
    "fields": {
      "room": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "spawn_action_stem",
          "named": true
        }
      ]
    }
  },
  {
    "type": "action_spinner_msg",
    "named": true,
    "fields": {
      "spinner": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_spinner_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_unlock_exit",
    "named": true,
    "fields": {
      "direction": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "exit_dir",
            "named": true
          }
        ]
      },
      "room_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "action_unlock_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "active_stmt",
    "named": true,
    "fields": {
      "active": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "boolean",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "barred_stmt",
    "named": true,
    "fields": {
      "msg": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "player_message",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "boolean",
    "named": true,
    "fields": {}
  },
  {
    "type": "cond_all_group",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "trigger_cond",
          "named": true
        }
      ]
    }
  },
  {
    "type": "cond_ambient",
    "named": true,
    "fields": {
      "room_id": {
        "multiple": true,
        "required": false,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      },
      "spinner": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_spinner_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_any_group",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "trigger_cond",
          "named": true
        }
      ]
    }
  },
  {
    "type": "cond_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "do_action",
          "named": true
        },
        {
          "type": "trigger_cond",
          "named": true
        }
      ]
    }
  },
  {
    "type": "cond_chance",
    "named": true,
    "fields": {
      "pct": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "number",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_container_has_item",
    "named": true,
    "fields": {
      "container_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      },
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_flag_complete",
    "named": true,
    "fields": {
      "flag_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_flag_in_progress",
    "named": true,
    "fields": {
      "flag_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_has_flag",
    "named": true,
    "fields": {
      "flag_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_has_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_in_rooms",
    "named": true,
    "fields": {
      "room_id": {
        "multiple": true,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_missing_flag",
    "named": true,
    "fields": {
      "flag_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_missing_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_npc_has_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      },
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_npc_in_state",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      },
      "state": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "custom_state",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_player_in_room",
    "named": true,
    "fields": {
      "room_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_visited_room",
    "named": true,
    "fields": {
      "room_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "cond_with_npc",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "consumable_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": false,
      "types": [
        {
          "type": "consumable_consume_on",
          "named": true
        },
        {
          "type": "consumable_uses",
          "named": true
        },
        {
          "type": "consumable_when_consumed",
          "named": true
        }
      ]
    }
  },
  {
    "type": "consumable_consume_on",
    "named": true,
    "fields": {
      "ability": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "item_ability",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "consumable_uses",
    "named": true,
    "fields": {
      "uses_left": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "number",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "consumable_when_consumed",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "when_consumed_opt",
          "named": true
        }
      ]
    }
  },
  {
    "type": "container_state",
    "named": true,
    "fields": {}
  },
  {
    "type": "custom_state",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "custom_state",
          "named": true
        }
      ]
    }
  },
  {
    "type": "dev_note",
    "named": true,
    "fields": {}
  },
  {
    "type": "do_action",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "_action_type",
          "named": true
        }
      ]
    }
  },
  {
    "type": "drop_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "enter_room",
    "named": true,
    "fields": {
      "room_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "entity_desc",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "entity_desc",
          "named": true
        }
      ]
    }
  },
  {
    "type": "entity_name",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "entity_name",
          "named": true
        }
      ]
    }
  },
  {
    "type": "exit_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "exit_stmt",
          "named": true
        }
      ]
    }
  },
  {
    "type": "exit_dir",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "exit_dir",
          "named": true
        }
      ]
    }
  },
  {
    "type": "exit_stmt",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "barred_stmt",
          "named": true
        },
        {
          "type": "required_flags_stmt",
          "named": true
        },
        {
          "type": "required_items_stmt",
          "named": true
        }
      ]
    }
  },
  {
    "type": "flag_binary_block",
    "named": true,
    "fields": {
      "set_text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "ovl_text",
            "named": true
          }
        ]
      },
      "unset_text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "ovl_text",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "flag_name",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "flag_name",
          "named": true
        }
      ]
    }
  },
  {
    "type": "gc_flag_complete",
    "named": true,
    "fields": {
      "flag_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "gc_flag_progress",
    "named": true,
    "fields": {
      "flag_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "gc_goal_complete",
    "named": true,
    "fields": {
      "goal_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_goal_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "gc_has_flag",
    "named": true,
    "fields": {
      "flag_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "gc_has_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "gc_missing_flag",
    "named": true,
    "fields": {
      "flag_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "gc_reached_room",
    "named": true,
    "fields": {
      "room_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "give_to_npc",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      },
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "goal_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "_goal_stmt",
          "named": true
        }
      ]
    }
  },
  {
    "type": "goal_def",
    "named": true,
    "fields": {
      "goal_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "goal_id",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "goal_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "goal_desc_stmt",
    "named": true,
    "fields": {
      "goal_description": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_desc",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "goal_done_stmt",
    "named": true,
    "fields": {
      "done_condition": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_goal_cond",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "goal_fail_stmt",
    "named": true,
    "fields": {
      "fail_condition": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_goal_cond",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "goal_group_stmt",
    "named": true,
    "fields": {
      "goal_group": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "goal_group",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "goal_id",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "goal_id",
          "named": true
        }
      ]
    }
  },
  {
    "type": "goal_name_stmt",
    "named": true,
    "fields": {
      "goal_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_name",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "goal_start_stmt",
    "named": true,
    "fields": {
      "start_condition": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_goal_cond",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "ingest_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "insert_item_into",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": true,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_ability",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "item_ability",
          "named": true
        }
      ]
    }
  },
  {
    "type": "item_ability_stmt",
    "named": true,
    "fields": {
      "ability": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "item_ability",
            "named": true
          }
        ]
      },
      "target_id": {
        "multiple": false,
        "required": false,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": false,
      "types": [
        {
          "type": "_item_stmt",
          "named": true
        }
      ]
    }
  },
  {
    "type": "item_consumable_stmt",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "consumable_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "item_container_stmt",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "container_state",
          "named": true
        }
      ]
    }
  },
  {
    "type": "item_def",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "item_id",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "item_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "item_desc_stmt",
    "named": true,
    "fields": {
      "item_description": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_desc",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_detail_text",
    "named": true,
    "fields": {}
  },
  {
    "type": "item_id",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "item_id",
          "named": true
        }
      ]
    }
  },
  {
    "type": "item_interaction",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "item_interaction",
          "named": true
        }
      ]
    }
  },
  {
    "type": "item_loc_stmt",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "item_location",
          "named": true
        }
      ]
    }
  },
  {
    "type": "item_location",
    "named": true,
    "fields": {
      "chest_id": {
        "multiple": false,
        "required": false,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      },
      "npc_id": {
        "multiple": false,
        "required": false,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      },
      "room_id": {
        "multiple": false,
        "required": false,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      },
      "spawn_note": {
        "multiple": false,
        "required": false,
        "types": [
          {
            "type": "dev_note",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_name_stmt",
    "named": true,
    "fields": {
      "item_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_name",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_patch_add_ability",
    "named": true,
    "fields": {
      "ability": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "patch_ability",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_patch_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "item_patch_add_ability",
          "named": true
        },
        {
          "type": "item_patch_container_state",
          "named": true
        },
        {
          "type": "item_patch_desc",
          "named": true
        },
        {
          "type": "item_patch_name",
          "named": true
        },
        {
          "type": "item_patch_portable",
          "named": true
        },
        {
          "type": "item_patch_remove_ability",
          "named": true
        },
        {
          "type": "item_patch_restricted",
          "named": true
        },
        {
          "type": "item_patch_text",
          "named": true
        }
      ]
    }
  },
  {
    "type": "item_patch_container_state",
    "named": true,
    "fields": {
      "container_state": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "off_or_state",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_patch_desc",
    "named": true,
    "fields": {
      "description": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_desc",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_patch_name",
    "named": true,
    "fields": {
      "name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_name",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_patch_portable",
    "named": true,
    "fields": {
      "portable": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "boolean",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_patch_remove_ability",
    "named": true,
    "fields": {
      "ability": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "patch_ability",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_patch_restricted",
    "named": true,
    "fields": {
      "restricted": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "boolean",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_patch_text",
    "named": true,
    "fields": {
      "text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "string",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_portable_stmt",
    "named": true,
    "fields": {
      "portable": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "boolean",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_requires_stmt",
    "named": true,
    "fields": {
      "ability": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "item_ability",
            "named": true
          }
        ]
      },
      "interaction": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "item_interaction",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_restricted_stmt",
    "named": true,
    "fields": {
      "restricted": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "boolean",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "item_text_stmt",
    "named": true,
    "fields": {
      "detail_text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "item_detail_text",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "leave_room",
    "named": true,
    "fields": {
      "room_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "look_at_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "loop_stmt",
    "named": true,
    "fields": {
      "loop": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "boolean",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "movement_type",
    "named": true,
    "fields": {}
  },
  {
    "type": "npc_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": false,
      "types": [
        {
          "type": "_npc_stmt",
          "named": true
        }
      ]
    }
  },
  {
    "type": "npc_def",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "npc_id",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "npc_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "npc_desc_stmt",
    "named": true,
    "fields": {
      "npc_description": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_desc",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "npc_dialogue",
    "named": true,
    "fields": {}
  },
  {
    "type": "npc_dialogue_block",
    "named": true,
    "fields": {
      "dialogue": {
        "multiple": true,
        "required": true,
        "types": [
          {
            "type": "npc_dialogue",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "npc_state",
          "named": true
        }
      ]
    }
  },
  {
    "type": "npc_id",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "npc_id",
          "named": true
        }
      ]
    }
  },
  {
    "type": "npc_loc_stmt",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "npc_location",
          "named": true
        }
      ]
    }
  },
  {
    "type": "npc_location",
    "named": true,
    "fields": {
      "room_id": {
        "multiple": false,
        "required": false,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      },
      "spawn_note": {
        "multiple": false,
        "required": false,
        "types": [
          {
            "type": "dev_note",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "npc_movement_stmt",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "active_stmt",
          "named": true
        },
        {
          "type": "loop_stmt",
          "named": true
        },
        {
          "type": "movement_type",
          "named": true
        },
        {
          "type": "room_list",
          "named": true
        },
        {
          "type": "timing_stmt",
          "named": true
        }
      ]
    }
  },
  {
    "type": "npc_name_stmt",
    "named": true,
    "fields": {
      "npc_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_name",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "npc_state",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "npc_state_builtin",
          "named": true
        },
        {
          "type": "npc_state_custom",
          "named": true
        }
      ]
    }
  },
  {
    "type": "npc_state_builtin",
    "named": true,
    "fields": {}
  },
  {
    "type": "npc_state_custom",
    "named": true,
    "fields": {
      "custom_state": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "custom_state",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "npc_state_set_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "npc_state_set_line",
          "named": true
        }
      ]
    }
  },
  {
    "type": "npc_state_set_custom",
    "named": true,
    "fields": {
      "state": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "custom_state",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "npc_state_set_line",
    "named": true,
    "fields": {
      "text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "ovl_text",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "npc_state_builtin",
          "named": true
        },
        {
          "type": "npc_state_set_custom",
          "named": true
        }
      ]
    }
  },
  {
    "type": "npc_state_stmt",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "npc_state",
          "named": true
        }
      ]
    }
  },
  {
    "type": "off_or_state",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "container_state",
          "named": true
        }
      ]
    }
  },
  {
    "type": "only_once_kw",
    "named": true,
    "fields": {}
  },
  {
    "type": "open_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "overlay_stmt",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "ovl_block",
          "named": true
        },
        {
          "type": "ovl_flag_status",
          "named": true
        },
        {
          "type": "ovl_item_in_room",
          "named": true
        },
        {
          "type": "ovl_item_posession",
          "named": true
        },
        {
          "type": "ovl_item_presence",
          "named": true
        },
        {
          "type": "ovl_npc_presence",
          "named": true
        },
        {
          "type": "ovl_npc_state",
          "named": true
        }
      ]
    }
  },
  {
    "type": "ovl_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "ovl_text_stmt",
          "named": true
        }
      ]
    }
  },
  {
    "type": "ovl_flag_binary",
    "named": true,
    "fields": {
      "flag_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "flag_binary_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "ovl_flag_status",
    "named": true,
    "fields": {
      "flag_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "ovl_item_in_room",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      },
      "room_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "ovl_item_posession",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "ovl_item_presence",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "ovl_npc_presence",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "ovl_npc_state",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      },
      "npc_state": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "npc_state",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "ovl_npc_state_set",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "npc_state_set_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "ovl_presence_pair",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": false,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      },
      "npc_id": {
        "multiple": false,
        "required": false,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "presence_pair_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "ovl_text",
    "named": true,
    "fields": {}
  },
  {
    "type": "ovl_text_stmt",
    "named": true,
    "fields": {
      "text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "ovl_text",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "patch_ability",
    "named": true,
    "fields": {
      "ability_name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "ability_name",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "ability_target",
          "named": true
        }
      ]
    }
  },
  {
    "type": "player_message",
    "named": true,
    "fields": {}
  },
  {
    "type": "presence_pair_block",
    "named": true,
    "fields": {
      "absent_text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "ovl_text",
            "named": true
          }
        ]
      },
      "present_text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "ovl_text",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "quote",
    "named": true,
    "fields": {}
  },
  {
    "type": "required_flags_stmt",
    "named": true,
    "fields": {
      "flag_name": {
        "multiple": true,
        "required": true,
        "types": [
          {
            "type": "_flag_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "required_items_stmt",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": true,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "retry_type",
    "named": true,
    "fields": {
      "policy": {
        "multiple": true,
        "required": true,
        "types": [
          {
            "type": "retry_policy",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "room_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": false,
      "types": [
        {
          "type": "_room_stmt",
          "named": true
        }
      ]
    }
  },
  {
    "type": "room_def",
    "named": true,
    "fields": {
      "room_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "room_id",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "room_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "room_desc",
    "named": true,
    "fields": {
      "description": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_desc",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "room_exit",
    "named": true,
    "fields": {
      "dest": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      },
      "dir": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "exit_dir",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "exit_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "room_id",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "room_id",
          "named": true
        }
      ]
    }
  },
  {
    "type": "room_list",
    "named": true,
    "fields": {
      "room_id": {
        "multiple": true,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "room_name",
    "named": true,
    "fields": {
      "name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_name",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "room_patch_add_exit",
    "named": true,
    "fields": {
      "destination": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_room_ref",
            "named": true
          }
        ]
      },
      "direction": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "exit_dir",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "exit_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "room_patch_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "room_patch_add_exit",
          "named": true
        },
        {
          "type": "room_patch_desc",
          "named": true
        },
        {
          "type": "room_patch_name",
          "named": true
        },
        {
          "type": "room_patch_remove_exit",
          "named": true
        }
      ]
    }
  },
  {
    "type": "room_patch_desc",
    "named": true,
    "fields": {
      "description": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_desc",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "room_patch_name",
    "named": true,
    "fields": {
      "name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_name",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "room_patch_remove_exit",
    "named": true,
    "fields": {
      "direction": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "exit_dir",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "room_visited",
    "named": true,
    "fields": {
      "visited": {
        "multiple": false,
        "required": false,
        "types": [
          {
            "type": "room_visited",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "schedule_note",
    "named": true,
    "fields": {
      "text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "schedule_note_text",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "schedule_note_text",
    "named": true,
    "fields": {}
  },
  {
    "type": "set_decl",
    "named": true,
    "fields": {
      "name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "set_name",
            "named": true
          }
        ]
      },
      "room_list": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "set_list",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "set_list",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "_room_ref",
          "named": true
        }
      ]
    }
  },
  {
    "type": "set_name",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "set_name",
          "named": true
        }
      ]
    }
  },
  {
    "type": "source_file",
    "named": true,
    "root": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "goal_def",
          "named": true
        },
        {
          "type": "item_def",
          "named": true
        },
        {
          "type": "npc_def",
          "named": true
        },
        {
          "type": "room_def",
          "named": true
        },
        {
          "type": "set_decl",
          "named": true
        },
        {
          "type": "spinner_def",
          "named": true
        },
        {
          "type": "trigger_def",
          "named": true
        }
      ]
    }
  },
  {
    "type": "spawn_action_stem",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "spinner_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "spinner_stmt",
          "named": true
        }
      ]
    }
  },
  {
    "type": "spinner_def",
    "named": true,
    "fields": {
      "name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "spinner_id",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "spinner_block",
          "named": true
        }
      ]
    }
  },
  {
    "type": "spinner_id",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": false,
      "types": [
        {
          "type": "spinner_id",
          "named": true
        }
      ]
    }
  },
  {
    "type": "spinner_stmt",
    "named": true,
    "fields": {
      "spinner_text": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "spinner_text",
            "named": true
          }
        ]
      },
      "width": {
        "multiple": false,
        "required": false,
        "types": [
          {
            "type": "number",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "spinner_text",
    "named": true,
    "fields": {}
  },
  {
    "type": "string",
    "named": true,
    "fields": {}
  },
  {
    "type": "take_from_npc",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      },
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "take_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "talk_to_npc",
    "named": true,
    "fields": {
      "npc_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_npc_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "timing_stmt",
    "named": true,
    "fields": {
      "timing": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "timing",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "touch_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "trigger_block",
    "named": true,
    "fields": {},
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "_trigger_stmt",
          "named": true
        }
      ]
    }
  },
  {
    "type": "trigger_cond",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "_trigger_cond_atom",
          "named": true
        }
      ]
    }
  },
  {
    "type": "trigger_def",
    "named": true,
    "fields": {
      "name": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "entity_name",
            "named": true
          }
        ]
      },
      "once": {
        "multiple": true,
        "required": false,
        "types": [
          {
            "type": "only_once_kw",
            "named": true
          }
        ]
      }
    },
    "children": {
      "multiple": true,
      "required": true,
      "types": [
        {
          "type": "trigger_block",
          "named": true
        },
        {
          "type": "trigger_note",
          "named": true
        },
        {
          "type": "when_cond",
          "named": true
        }
      ]
    }
  },
  {
    "type": "trigger_note",
    "named": true,
    "fields": {
      "trigger_note": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "dev_note",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "unlock_item",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "use_item",
    "named": true,
    "fields": {
      "ability": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "item_ability",
            "named": true
          }
        ]
      },
      "item_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "use_item_on_item",
    "named": true,
    "fields": {
      "interaction": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "item_interaction",
            "named": true
          }
        ]
      },
      "target_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      },
      "tool_id": {
        "multiple": false,
        "required": true,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "wedge_text",
    "named": true,
    "fields": {}
  },
  {
    "type": "when_cond",
    "named": true,
    "fields": {},
    "children": {
      "multiple": false,
      "required": true,
      "types": [
        {
          "type": "_when_event",
          "named": true
        }
      ]
    }
  },
  {
    "type": "when_consumed_opt",
    "named": true,
    "fields": {
      "item_id": {
        "multiple": false,
        "required": false,
        "types": [
          {
            "type": "_item_ref",
            "named": true
          }
        ]
      }
    }
  },
  {
    "type": "%",
    "named": false
  },
  {
    "type": "(",
    "named": false
  },
  {
    "type": ")",
    "named": false
  },
  {
    "type": ",",
    "named": false
  },
  {
    "type": "->",
    "named": false
  },
  {
    "type": "=",
    "named": false
  },
  {
    "type": "ability",
    "named": false
  },
  {
    "type": "ability_name",
    "named": true
  },
  {
    "type": "absent",
    "named": false
  },
  {
    "type": "act",
    "named": false
  },
  {
    "type": "active",
    "named": false
  },
  {
    "type": "add",
    "named": false
  },
  {
    "type": "advance",
    "named": false
  },
  {
    "type": "all",
    "named": false
  },
  {
    "type": "always_event",
    "named": true
  },
  {
    "type": "ambient",
    "named": false
  },
  {
    "type": "any",
    "named": false
  },
  {
    "type": "at",
    "named": false
  },
  {
    "type": "award",
    "named": false
  },
  {
    "type": "barred",
    "named": false
  },
  {
    "type": "bored",
    "named": false
  },
  {
    "type": "chance",
    "named": false
  },
  {
    "type": "chest",
    "named": false
  },
  {
    "type": "closed",
    "named": false
  },
  {
    "type": "comment",
    "named": true,
    "extra": true
  },
  {
    "type": "complete",
    "named": false
  },
  {
    "type": "consumable",
    "named": false
  },
  {
    "type": "consume_on",
    "named": false
  },
  {
    "type": "container",
    "named": false
  },
  {
    "type": "current",
    "named": false
  },
  {
    "type": "custom",
    "named": false
  },
  {
    "type": "deny",
    "named": false
  },
  {
    "type": "desc",
    "named": false
  },
  {
    "type": "description",
    "named": false
  },
  {
    "type": "despawn",
    "named": false
  },
  {
    "type": "dialogue",
    "named": false
  },
  {
    "type": "direction",
    "named": false
  },
  {
    "type": "do",
    "named": false
  },
  {
    "type": "done",
    "named": false
  },
  {
    "type": "drink",
    "named": false
  },
  {
    "type": "drop",
    "named": false
  },
  {
    "type": "eat",
    "named": false
  },
  {
    "type": "enter",
    "named": false
  },
  {
    "type": "exit",
    "named": false
  },
  {
    "type": "fail",
    "named": false
  },
  {
    "type": "false",
    "named": false
  },
  {
    "type": "flag",
    "named": false
  },
  {
    "type": "from",
    "named": false
  },
  {
    "type": "give",
    "named": false
  },
  {
    "type": "goal",
    "named": false
  },
  {
    "type": "goal_group",
    "named": true
  },
  {
    "type": "group",
    "named": false
  },
  {
    "type": "happy",
    "named": false
  },
  {
    "type": "has",
    "named": false
  },
  {
    "type": "here",
    "named": false
  },
  {
    "type": "hidden",
    "named": false
  },
  {
    "type": "if",
    "named": false
  },
  {
    "type": "in",
    "named": false
  },
  {
    "type": "inhale",
    "named": false
  },
  {
    "type": "insert",
    "named": false
  },
  {
    "type": "interaction",
    "named": false
  },
  {
    "type": "into",
    "named": false
  },
  {
    "type": "inventory",
    "named": false
  },
  {
    "type": "item",
    "named": false
  },
  {
    "type": "leave",
    "named": false
  },
  {
    "type": "let",
    "named": false
  },
  {
    "type": "limit",
    "named": false
  },
  {
    "type": "location",
    "named": false
  },
  {
    "type": "lock",
    "named": false
  },
  {
    "type": "locked",
    "named": false
  },
  {
    "type": "look",
    "named": false
  },
  {
    "type": "loop",
    "named": false
  },
  {
    "type": "mad",
    "named": false
  },
  {
    "type": "message",
    "named": false
  },
  {
    "type": "missing",
    "named": false
  },
  {
    "type": "modify",
    "named": false
  },
  {
    "type": "movement",
    "named": false
  },
  {
    "type": "name",
    "named": false
  },
  {
    "type": "none",
    "named": false
  },
  {
    "type": "normal",
    "named": false
  },
  {
    "type": "note",
    "named": false
  },
  {
    "type": "nowhere",
    "named": false
  },
  {
    "type": "npc",
    "named": false
  },
  {
    "type": "number",
    "named": true
  },
  {
    "type": "off",
    "named": false
  },
  {
    "type": "on",
    "named": false
  },
  {
    "type": "onFalse",
    "named": false
  },
  {
    "type": "once",
    "named": false
  },
  {
    "type": "only",
    "named": false
  },
  {
    "type": "open",
    "named": false
  },
  {
    "type": "overlay",
    "named": false
  },
  {
    "type": "player",
    "named": false
  },
  {
    "type": "points",
    "named": false
  },
  {
    "type": "portable",
    "named": false
  },
  {
    "type": "present",
    "named": false
  },
  {
    "type": "progress",
    "named": false
  },
  {
    "type": "push",
    "named": false
  },
  {
    "type": "random",
    "named": false
  },
  {
    "type": "reached",
    "named": false
  },
  {
    "type": "read",
    "named": false
  },
  {
    "type": "refuse",
    "named": false
  },
  {
    "type": "remove",
    "named": false
  },
  {
    "type": "replace",
    "named": false
  },
  {
    "type": "required_flags",
    "named": false
  },
  {
    "type": "required_items",
    "named": false
  },
  {
    "type": "requires",
    "named": false
  },
  {
    "type": "reset",
    "named": false
  },
  {
    "type": "restrict",
    "named": false
  },
  {
    "type": "restricted",
    "named": false
  },
  {
    "type": "retry_policy",
    "named": true
  },
  {
    "type": "reveal",
    "named": false
  },
  {
    "type": "room",
    "named": false
  },
  {
    "type": "rooms",
    "named": false
  },
  {
    "type": "route",
    "named": false
  },
  {
    "type": "sad",
    "named": false
  },
  {
    "type": "says",
    "named": false
  },
  {
    "type": "schedule",
    "named": false
  },
  {
    "type": "seq",
    "named": false
  },
  {
    "type": "set",
    "named": false
  },
  {
    "type": "show",
    "named": false
  },
  {
    "type": "spawn",
    "named": false
  },
  {
    "type": "spinner",
    "named": false
  },
  {
    "type": "start",
    "named": false
  },
  {
    "type": "state",
    "named": false
  },
  {
    "type": "take",
    "named": false
  },
  {
    "type": "talk",
    "named": false
  },
  {
    "type": "text",
    "named": false
  },
  {
    "type": "timing",
    "named": true
  },
  {
    "type": "timing",
    "named": false
  },
  {
    "type": "tired",
    "named": false
  },
  {
    "type": "to",
    "named": false
  },
  {
    "type": "touch",
    "named": false
  },
  {
    "type": "transparentClosed",
    "named": false
  },
  {
    "type": "transparentLocked",
    "named": false
  },
  {
    "type": "trigger",
    "named": false
  },
  {
    "type": "true",
    "named": false
  },
  {
    "type": "unlock",
    "named": false
  },
  {
    "type": "unset",
    "named": false
  },
  {
    "type": "use",
    "named": false
  },
  {
    "type": "uses_left",
    "named": false
  },
  {
    "type": "visited",
    "named": false
  },
  {
    "type": "wedge",
    "named": false
  },
  {
    "type": "when",
    "named": false
  },
  {
    "type": "when_consumed",
    "named": false
  },
  {
    "type": "width",
    "named": false
  },
  {
    "type": "with",
    "named": false
  },
  {
    "type": "{",
    "named": false
  },
  {
    "type": "}",
    "named": false
  }
]